# STATUS DEFINITIONS:
# ==================
# Epic Status:
#   - backlog: Epic exists in epic file but not contexted
#   - contexted or in-progress
#   - done: Epic completed
#
# Story Status:
#   - backlog: Story only exists in epic file
#   - drafted: Story file created in stories folder by *create-story
#   - ready-for-dev: Draft approved and story context created by *story-ready
#   - in-progress: Developer actively working on implementation by *dev-story
#   - review: Implementation complete, ready for review by *code-review
#   - done: Story completed by *story-done
#
# Retrospective Status:
#   - optional: Can be completed but not required
#   - completed: Retrospective has been done by *retrospective
#
# WORKFLOW NOTES:
# ===============
# - Epics should be marked `in-progress` before stories can be marked beyond `backlog`
# - SM typically drafts next story ONLY after previous one is 'done' to incorporate learnings
# - Dev moves story to 'review', dev reviews, then Dev moves to 'done'

generated: 2025-12-12
updated: 2026-01-01
updated_by: Dev Agent (Amelia) - Story 9-5 code review complete, marked done
project: bmad-test
project_key: vibe-dash
tracking_system: file-system
story_location: "{project-root}/docs/sprint-artifacts/stories"
validation_location: "{project-root}/docs/sprint-artifacts/validations"
retrospective_location: "{project-root}/docs/sprint-artifacts/retrospectives"

development_status:
  # Epic 1: Foundation & First Launch
  epic-1: done
  1-1-project-scaffolding: done
  1-2-domain-entities: done
  1-3-port-interfaces: done
  1-4-cobra-cli-framework: done
  1-5-bubble-tea-tui-shell: done
  1-6-lipgloss-styles-foundation: done
  1-7-configuration-auto-creation: done
  epic-1-retrospective: completed

  # Epic 2: Project Management & Detection
  epic-2: done
  2-1-sqlite-repository-setup: done
  2-2-path-resolution-utilities: done
  2-3-add-project-command: done
  2-4-speckit-detector-implementation: done
  2-5-detection-service: done
  2-6-project-name-collision-handling: done
  2-7-list-projects-command: done
  2-8-remove-project-command: done
  2-9-path-validation-at-launch: done
  2-10-golden-path-test-fixtures: done
  epic-2-retrospective: completed

  # Epic 3: Dashboard Visualization
  epic-3: done
  3-1-project-list-component: done
  3-2-keyboard-navigation: done
  3-3-detail-panel-component: done
  3-4-status-bar-component: done
  3-5-help-overlay: done
  3-6-manual-refresh: done
  3-7-project-notes-view-and-edit: done
  3-8-toggle-favorite: done
  3-9-remove-project-from-tui: done
  3-10-responsive-layout: done
  epic-3-retrospective: completed

  # Epic 3.5: Storage Structure Alignment (Critical - must complete before Epic 4)
  # Discovered during Epic 3 retrospective - storage structure doesn't match PRD spec
  # Architecture planning completed 2025-12-18 - Full PRD compliance, clean implementation
  # 2025-12-19: COMPLETE - All stories done, storage aligned with PRD spec
  epic-3-5: done
  3-5-0-cleanup-existing-storage: done
  3-5-1-directory-manager: done
  3-5-2-per-project-sqlite-repository: done
  3-5-3-per-project-config-files: done
  3-5-4-master-config-path-index: done
  3-5-5-repository-coordinator: done
  3-5-6-update-cli-commands: done
  3-5-7-integration-testing: done
  3-5-8-fix-tui-repository-wiring: done
  3-5-9-remove-project-path-redundancy: done
  epic-3-5-retrospective: completed

  # Epic 4: Agent Waiting Detection (Killer Feature)
  epic-4: done
  4-1-file-watcher-service: done
  4-2-activity-timestamp-tracking: done
  4-3-agent-waiting-detection-logic: done
  4-4-waiting-threshold-configuration: done
  4-5-waiting-indicator-display: done
  4-6-real-time-dashboard-updates: done
  epic-4-retrospective: completed

  # Epic 4.5: BMAD Method v6 State Detection
  # Added via Sprint Change Proposal 2025-12-20
  # Scope: v6 only (.bmad/ folder). v4 support deferred.
  # 2025-12-21: COMPLETE - Retrospective done, Epic 4.6 created for validation
  epic-4-5: done
  4-5-1-bmad-v6-detector-implementation: done
  4-5-2-bmad-v6-stage-detection-logic: done
  4-5-3-bmad-test-fixtures: done
  epic-4-5-retrospective: completed

  # Epic 4.6: BMAD Stage Detection Validation & Hardening
  # Created from Epic 4.5 Retrospective 2025-12-21
  # Focus: Comprehensive validation of all state combinations
  # Can run in parallel with Epic 5
  epic-4-6: done
  4-6-1-investigation-gap-analysis: done
  4-6-2-spec-update-stage-mapping: done
  4-6-3-implementation-fix-all-gaps: done
  4-6-4-verification-dogfooding: done
  epic-4-6-retrospective: done

  # Epic 6: Scripting & Automation
  # 2025-12-25: COMPLETE - All 7 stories done, retrospective completed
  epic-6: done
  6-1-json-output-format: done
  6-2-project-status-command: done
  6-3-exit-codes: done
  6-4-project-exists-check: done
  6-5-rename-project-command: done
  6-6-shell-completion: done
  6-7-quiet-and-force-flags: done
  epic-6-retrospective: completed

  # Epic 7: Error Handling & Polish
  # ACTION ITEMS FROM EPIC 6 RETROSPECTIVE (2025-12-25):
  # - 7-8 through 7-12 are HIGH PRIORITY items from retro
  # - Address these BEFORE or alongside error handling stories
  # - G24 is blocking (dashboard shows "Unknown status" for deferred epics)
  # - REFERENCE: docs/sprint-artifacts/retrospectives/epic-6-retro-2025-12-25.md
  #   Contains: problem details, decisions made, implementation approach
  epic-7: done
  7-1-file-watcher-error-recovery: done
  7-2-configuration-error-handling: done
  7-3-database-recovery: done
  7-4-progress-indicators: done
  7-5-verbose-and-debug-logging: done
  7-6-feedback-messages-polish: done
  7-7-graceful-shutdown: done
  # Epic 6 Retro Action Items (HIGH PRIORITY)
  # Source: docs/sprint-artifacts/retrospectives/epic-6-retro-2025-12-25.md

  # 7-8: G24 - Deferred epic breaks stage detection
  # Problem: Epic 5 marked "deferred-post-mvp" causes "Unknown status" in TUI
  # Decision: Skip deferred epics in stage detection, normalize LLM variations
  # Pattern: Follow normalizeStatus() in internal/adapters/detection/bmad_stage.go (Story 4.6.3)
  # Variations to handle: deferred, Deferred, DEFERRED, deferred-post-mvp, deferred_post_mvp, epic-deferred
  # Reference: epic-6-retro-2025-12-25.md → "New Issues Identified" section
  7-8-g24-deferred-epic-stage-detection: done

  # 7-9: G23 - Retrospective stage detection (from Epic 4.6 retro)
  # Problem: All epics done + retro in-progress shows "Unable to determine stage"
  # Decision: Show "Retrospective for Epic N in progress" or "All epics complete"
  # Reference: epic-4.6-retro-2025-12-22.md → "New Gap Identified" section
  7-9-g23-retrospective-stage-detection: done

  # 7-10: M2 - Shared test helpers package
  # Problem: Test helpers duplicated across packages (mocks, fixtures, executeCommand)
  # Decision: Extract to internal/shared/testhelpers or similar
  # Carried forward: 6 times (since Epic 3)
  # Reference: epic-6-retro-2025-12-25.md → "Action Items" H1
  # DONE: 2025-12-26 - Code review passed, fixes applied
  7-10-m2-shared-test-helpers-package: done

  # 7-11: M3 - Shared styles package
  # Problem: Lipgloss styles duplicated across TUI components
  # Decision: Extract to internal/shared/styles
  # Carried forward: 6 times (since Epic 3)
  # Reference: epic-6-retro-2025-12-25.md → "Action Items" H2
  # DONE: 2025-12-26 - Code review passed (0 High, 1 Medium accepted, 4 Low fixed)
  7-11-m3-shared-styles-package: done

  # 7-12: DRY refactor - findProjectByIdentifier reuse
  # Problem: favorite.go and note.go duplicate project lookup logic from status.go
  # Locations: favorite.go:69-81, note.go:45-57 duplicate status.go:79-114
  # Decision: Refactor to call findProjectByIdentifier() from status.go
  # Reference: epic-6-retro-2025-12-25.md → "Action Items" H5
  # DONE: 2025-12-26 - Code review passed, duplicate mock issue tracked for future
  7-12-dry-refactor-findprojectbyidentifier: done

  # 7-13: Numeric story sorting
  # Problem: Stories sort lexicographically (7-10 before 7-2) instead of numerically
  # Impact: Dashboard shows wrong "next story" when story numbers exceed single digits
  # Root cause: stage_parser.go uses string comparison for sorting
  # Locations: stage_parser.go:241-242 (story sort), stage_parser.go:126 (epic sort)
  # DONE: 2025-12-26 - Code review passed, naturalCompare implemented for stories/epics/retrospectives
  7-13-numeric-story-sorting: done
  epic-7-retrospective: done

  # Epic 8: UX Polish
  # Created from systematic UX elicitation session (2025-12-22)
  # Focus: Improve dashboard glanceability, fix core UX gaps
  # Key insight: Dashboard is observation-only tool, optimize for glanceability
  # 2025-12-31: MVP COMPLETE - All 14 stories done, retrospective completed
  epic-8: done
  8-1-recursive-file-watching: done
  8-2-auto-refresh-reliability: done
  8-3-stage-info-in-project-list: done
  8-4-fix-layout-width-bugs: done
  8-5-favorites-sort-first: done
  8-6-horizontal-split-layout-option: done
  8-7-config-display-in-tui: done
  8-8-clarify-or-remove-confidence: done
  8-9-visual-polish-bundle: done
  # Added via correct-course workflow 2025-12-26
  # Triggered by: User feedback during Story 8.4 code review
  8-10-full-width-layout-column-rebalancing: done
  8-11-periodic-stage-redetection: done
  # Added from Story 8.6 manual testing feedback 2025-12-26
  # Issues: height priority, anchor points, margin between components
  # 2025-12-27: Code review complete, all fixes applied
  8-12-horizontal-layout-height-handling: done
  # Added 2025-12-31: Critical regression fix from Epic 8 testing
  # Root cause: watcher.go Watch() doesn't close previous watcher before creating new
  # Trigger: Story 8.11 periodic refresh calls Watch() multiple times
  # DONE: 2025-12-31 - Code review passed, 3 fixes applied (M1, M2, M3)
  8-13-fsnotify-file-handle-leak-fix: done
  # Added 2025-12-31: Cosmetic fix for visual consistency
  # Root cause: effectiveWidth not passed consistently to render methods
  # DONE: 2025-12-31 - Code review passed, 3M/2L fixes applied
  8-14-detail-panel-width-consistency: done
  epic-8-retrospective: done

  # ═══════════════════════════════════════════════════════════
  # MVP COMPLETE - Epic 8 marks the end of MVP development
  # ═══════════════════════════════════════════════════════════

  # Epic 9: TUI Behavioral Testing Infrastructure - PRE-POST-MVP GATE
  # Created 2025-12-31 from Epic 8 retrospective
  # Purpose: Automated testing for visual/behavioral bugs (like 8-12, 8-13)
  # Rationale: Story 8-12 required ~20 iterations due to lack of TUI testing tools
  # Must complete BEFORE any post-MVP feature work
  epic-9: in-progress
  9-1-tui-testing-tools-research: done
  9-2-terminal-size-simulation-framework: done
  9-3-anchor-point-stability-tests: done
  9-4-layout-consistency-tests: done
  9-5-long-running-session-tests: done
  9-6-ci-pipeline-integration: backlog
  epic-9-retrospective: optional

  # Epic 10: Scalable File Watching Architecture - POST-MVP
  # (Was Epic 9, renumbered 2025-12-31)
  # Created 2025-12-31: Address scalability for 20+ projects
  # NOTE: Story 8.13 fixed the FD leak (explicit Remove() before Close())
  # The current architecture is now stable for moderate project counts.
  # Epic 10 remains valuable for future scale optimization (FSEvents on macOS)
  epic-10: backlog
  10-1-file-watching-architecture-research: backlog
  10-2-scalable-watching-strategy-design: backlog
  10-3-platform-optimized-watcher-implementation: backlog
  10-4-intelligent-watch-scope-reduction: backlog
  10-5-watcher-resource-monitoring: backlog
  10-6-watcher-migration-configuration: backlog
  10-7-scale-testing-validation: backlog
  10-8-documentation-troubleshooting-guide: backlog
  epic-10-retrospective: optional

  # Epic 11: Project State & Hibernation - POST-MVP
  # (Was Epic 5, renumbered 2025-12-31)
  # DEFERRED TO POST-MVP (2025-12-22)
  # Rationale: Hibernation is a power-user feature. MVP is functional.
  # Dashboard has space for this info, but core polish took priority.
  epic-11: backlog
  11-1-project-state-model: backlog
  11-2-auto-hibernation: backlog
  11-3-auto-activation-on-activity: backlog
  11-4-hibernated-projects-view: backlog
  11-5-manual-state-control: backlog
  11-6-hibernation-threshold-configuration: backlog
  epic-11-retrospective: optional
